<?xml version="1.0" encoding="UTF-8"?>
<project xmlns:dita="http://dita-ot.sourceforge.net" name="stats">
    
    <target name="doctales.terminology.init">
        <property name="root-chunk-override" value="to-content"/>
    </target>
    
    <target name="doctales.terminology.stats" description="Generate terminology statistics."
        depends="doctales.terminology.init,
        html5.init,
        build-init,
        preprocess,
        html5.topic,
        html5.map">
        <xslt basedir="${dita.temp.dir}"
            destdir="${output.dir}/stats"
            includesfile="${dita.temp.dir}/${user.input.file}"
            reloadstylesheet="${dita.xhtml.reloadstylesheet}"
            classpathref="dost.class.path"
            extension=".xml"
            style="${dita.plugin.org.doctales.terminology.dir}/xsl/termstats.xsl"
            filenameparameter="FILENAME" 
            filedirparameter="FILEDIR">
            <excludesfile name="${dita.temp.dir}${file.separator}${resourceonlyfile}" if="resourceonlyfile"></excludesfile>
            <includesfile name="${dita.temp.dir}${file.separator}${chunkedtopicfile}" if="chunkedtopicfile"></includesfile>
            <xmlcatalog refid="dita.catalog"/>
        </xslt>
        <basename property="stats" file="${args.input}" suffix=".ditamap"/>
    </target>
    
</project>
